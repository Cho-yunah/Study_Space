# 타입 변환과 단축 평가



## 1. 타입 변환

- 자바스크립트의 모든 값은 타입을 가진다. 자바스크립트에서는 타입간 변환을 지원하고, 이를 자료형 변환 또는 형변환이라고 부른다. 자동으로 타입이 변환되는 것은 자바스크립트가 동적의 언어이기 때문이다.
- 값의 타입은 개발자의 의도에 따라 변환할 수 있다. 개발자가 의도하여 값의 타입을 변환하는 것을 명시적 타입 변환(explicit coercion) 또는 타입 캐스팅(type casting)이라 한다.
- 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 한다. 이를 암묵적 타입 변환(implicit coercion) 또는 타입 강제 변환이라고 한다.

## 2. 암묵적 타입 변환

- 암묵적 타입 변환이 발생하면 문자열, 숫자, 불리언과 같은 원시 타입 중 하나로 타입을 자동 변환한다.

```jsx
1.  '10' + 5  //  -> '105'  
2.    5 * '10' //  ->  50
3.   !0 //  -> true
```

1. [+] ⇒ 문자열 타입으로 변환

   - 연산자는 피연산자 중 하나 이상이 문자열이면, 문자열 타입이 아닌 피연산자를 문자열 타입으로 암묵적 타입 변환을 한 후에 문자열 연결 연산자로 동작한다.

2. [ - , * , / ] ⇒ 숫자 타입으로 변환

   산술 연산자는 '+'를 제외하고 피연산자를 숫자 타입으로 암묵적 타입 변환한다. 이때 피연산자를 숫자 타입으로 변환할 수 없는 경우는 산술 연산을 수행할 수 없으므로 표현식 평가 결과는 NaN이 된다.

   - 산술 연산자 외에도 비교 연산자(<, >) 와 단항 연산자 '+'도 피연산자를 숫자 타입의 값으로 암묵적 타입변환을 한다.
   - null, false, 빈문자열(''), 빈배열([ ])은 0으로, true는 1로 변환된다. 객체와 빈 배열이 아닌 배열, undefined 는 변환되지 않아 NaN이 된다는 것에 주의한다.

3. 불리언 타입으로 변환

   if 문이나 for 문과 같은 제어문 또는 삼항 조건 연산자의 조건식은 평가 결과를 불리언 타입으로 암묵적 타입 변환한다. 이때 자바스크립트 엔진은 불리언 타입이 아닌 값을 Truthy값 또는 Falsy값으로 구분한다.

   - false로 평가되는 Falsy 값 = false, undefined, null, 0, -0, NaN, ""(빈 문자열)
   - Falsy 값 외의 모든 값은 모두 Truthy 값이다.



## 3. 명시적 타입 변환

- 개발자의 의도에 따라 명시적으로 타입을 변경하는 방법은 다양하다.

### 3.1 문자열 타입으로 변환

a) String 생성자 함수를 new연산자 없이 호출하는 방법

b) Object.prototype.toString 메서드를 사용하는 방법

c) 문자열 연결 연산자를 이용하는 방법

```jsx
a.  String(10);  // '10' 
    String(true);  //  'true'
b.  (5).toString();  //  '5'
    (false).toString(); //  'false'
c.   100 + '';  //  '100'
     NaN + '';  //  'NaN'
```

### 3.2 숫자 타입으로 변환

a) Number 생성자 함수를 new 연산자 없이 호출하는 방법

b) parseInt, parseFloat 함수를 사용하는 방법(문자열만 숫자 타입으로 변환 가능)

c) + 단항 산술 연산자를 이용하는 방법

d) * 산술 연산자를 이용하는 방법

```jsx
a) Number('10');   // 10
   Number(true);   //1
b) parseInt('3');  // 3
   parseFloat('10.25')  // 10.25
c) +'500';  // 500
   + false; // 0
d) '7' * 1;  // 7
   true * 1; // 1
```

### 3.3 불리언 타입으로 변환

a) Boolean 생성자 함수를 new 연산자 없이 호출하는 방법

b) !부정 논리 연산자를 두번 사용하는 방법

```jsx
a) Boolean('x');, Boolean(NaN);, Boolean(3);  // true, false, true
b) !!'x';, !!Infinity;, !!null;, !!{ };   // true, true, false, true
```



## 4. 단축 평가

### 4.1 논리연산자를 사용한 단축 평가

- 단축평가 표현식 => 평가 결과

  true || anything => true

  false || anything => anything

  true && anything => anything

  false && anything => false